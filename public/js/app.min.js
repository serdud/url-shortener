function formatAjaxErrors(t){let e=[];return Object.keys(t).map(function(r,n){e.push(t[r])}),e.join("\n")}document.getElementById("url_form").addEventListener("submit",function(t){t.preventDefault();const e=new FormData(this),r=document.querySelector("meta[name='csrf-token']").getAttribute("content");fetch("shorten",{method:"post",body:e,headers:{"X-CSRF-TOKEN":r}}).then(t=>(status=t.status,t.json())).then(t=>{switch(status){case"200":prompt("Shortened URL",t.url);break;case"422":alert(formatAjaxErrors(t.errors));break;default:alert("Something went wrong")}})});
